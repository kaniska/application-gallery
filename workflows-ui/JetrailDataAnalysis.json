{
  "name": "JetrailDataAnalysis",
  "category": "ETL",
  "description": "JetrailDataAnalysis - Trend",
  "nodes": [
    {
      "id": "1",
      "name": "DatasetStructured",
      "type": "dataset",
      "nodeClass": "fire.nodes.dataset.NodeDatasetStructured",
      "x": "52px",
      "y": "36.6563px",
      "fields": [
        {
          "name": "dataset",
          "value": "735ee5eb-b634-42f2-8b4e-386883be019f",
          "widget": "dataset",
          "title": "Dataset",
          "description": "Selected Dataset",
          "required": false
        }
      ]
    },
    {
      "id": "2",
      "name": "DateTimeFieldExtract",
      "description": "",
      "type": "transform",
      "nodeClass": "fire.nodes.etl.NodeDateTimeFieldExtract",
      "x": "26px",
      "y": "227.641px",
      "fields": [
        {
          "name": "inputCol",
          "value": "Datetime",
          "widget": "variable",
          "title": "Column",
          "description": "",
          "datatypes": [
            "timestamp"
          ],
          "required": false
        },
        {
          "name": "values",
          "value": "year month",
          "widget": "textfield",
          "title": "Fields",
          "description": "Enter values to be extracted by space sep(values: year, month, dayofmonth, hour, minute, second)",
          "required": false
        }
      ]
    },
    {
      "id": "3",
      "name": "SQL",
      "description": "This node runs the given SQL on the incoming DataFrame",
      "type": "transform",
      "nodeClass": "fire.nodes.etl.NodeSQL",
      "x": "264px",
      "y": "38.6406px",
      "fields": [
        {
          "name": "tempTable",
          "value": "fire_temp_table",
          "widget": "textfield",
          "title": "Temp Table",
          "description": "Temp Table Name to be used",
          "required": false
        },
        {
          "name": "sql",
          "value": "select cast(Datetime_year as string) as Datetime_year , cast(Datetime_month as string) as Datetime_month , sum(Count) as Count  from fire_temp_table group by Datetime_year, Datetime_month",
          "widget": "textarea_large",
          "title": "SQL",
          "description": "SQL to be run",
          "required": false
        },
        {
          "name": "columns",
          "value": "Datetime_year Datetime_month Count",
          "widget": "textarea_small",
          "title": "SQL Output Column Names separated by space",
          "description": "New Output Columns of the SQL",
          "required": false
        },
        {
          "name": "columnTypes",
          "value": "string string long",
          "widget": "textarea_small",
          "title": "SQL Output Column Types separated by space",
          "description": "Data Type of the Output Columns",
          "required": false
        }
      ]
    },
    {
      "id": "4",
      "name": "SQL",
      "description": "This node runs the given SQL on the incoming DataFrame",
      "type": "transform",
      "nodeClass": "fire.nodes.etl.NodeSQL",
      "x": "509px",
      "y": "71.6406px",
      "fields": [
        {
          "name": "tempTable",
          "value": "fire_temp_table",
          "widget": "textfield",
          "title": "Temp Table",
          "description": "Temp Table Name to be used",
          "required": false
        },
        {
          "name": "sql",
          "value": "select cast(concat(Datetime_year,Datetime_month) as double)as year_month, cast(Count as double) as Count  from fire_temp_table",
          "widget": "textarea_large",
          "title": "SQL",
          "description": "SQL to be run",
          "required": false
        },
        {
          "name": "columns",
          "value": "year_month Count",
          "widget": "textarea_small",
          "title": "SQL Output Column Names separated by space",
          "description": "New Output Columns of the SQL",
          "required": false
        },
        {
          "name": "columnTypes",
          "value": "double double",
          "widget": "textarea_small",
          "title": "SQL Output Column Types separated by space",
          "description": "Data Type of the Output Columns",
          "required": false
        }
      ]
    },
    {
      "id": "7",
      "name": "PrintNRows",
      "description": "Prints the specified number of records in the DataFrame",
      "type": "transform",
      "nodeClass": "fire.nodes.util.NodePrintFirstNRows",
      "x": "355px",
      "y": "239.656px",
      "fields": [
        {
          "name": "n",
          "value": "100",
          "widget": "textfield",
          "title": "Num Rows to Print",
          "required": false
        }
      ]
    },
    {
      "id": "8",
      "name": "GraphValues",
      "type": "transform",
      "nodeClass": "fire.nodes.graph.NodeGraphValues",
      "x": "589px",
      "y": "243.656px",
      "fields": [
        {
          "name": "title",
          "value": "Graph",
          "widget": "textfield",
          "title": "Title",
          "required": false
        },
        {
          "name": "xlabel",
          "value": "year_month",
          "widget": "textfield",
          "title": "X Label",
          "required": false
        },
        {
          "name": "ylabel",
          "value": "count",
          "widget": "textfield",
          "title": "Y Label",
          "required": false
        },
        {
          "name": "graphType",
          "value": "LINECHART",
          "widget": "enum",
          "title": "Chart Type",
          "optionsMap": {
            "LINECHART": "Line Chart",
            "COLUMNCHART": "Side by Side Bar Chart",
            "BARCHART": "Stacked Bar Chart",
            "PIE": "Pie Chart"
          },
          "required": false
        },
        {
          "name": "yCols",
          "value": "[\"Count\"]",
          "widget": "variables",
          "title": "Columns",
          "required": false
        }
      ]
    }
  ],
  "edges": [
    {
      "source": "1",
      "target": "2",
      "id": 1
    },
    {
      "source": "2",
      "target": "3",
      "id": 2
    },
    {
      "source": "3",
      "target": "4",
      "id": 3
    },
    {
      "source": "4",
      "target": "7",
      "id": 4
    },
    {
      "source": "4",
      "target": "8",
      "id": 5
    }
  ]
}